{"THEME_REVEAL_CONGIF_TRANSITION": "cube", "message_Previous post": "Previous post", "LICENSE": "\n<a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/2.5/ar/\">\n<img alt=\"Creative Commons License BY-NC-SA\"\nstyle=\"border-width:0; margin-bottom:12px;\"\nsrc=\"http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png\"></a>", "text": "<html><body><p><a class=\"reference external\" href=\"http://spray.cc/\">Spray</a></p>\n<p>\u6700\u521d\u662f\u60f3\u8981\u5efa\u7acb\u4e00\u500b\u63d0\u4f9b\u67e5\u8a62\u670d\u52d9\u7684 RESTful API Server\uff0c\u53ef\u4ee5\u8b93 Client \u7684\u61c9\u7528\u7a0b\u5f0f\u900f\u904e RESTful API \u67e5\u8a62\u4e00\u4e9b\u8cc7\u6599\u3002\n\u4f46\u662f\u770b\u4f86\u770b\u53bb\uff0c\u7528 Play2\u3001Jersey\u3001RESTEasy \u7b49\u90fd\u883b\u9ebb\u7169\u7684\uff0c\u800c\u4e14\u9084\u9700\u8981\u4f7f\u7528 Web container\uff08\u50cf Tomcat\u3001Jetty \u7b49\uff09\u3002\n\u6240\u4ee5\u624d\u627e\u5230\u9019\u500b Spray\uff0c\u800c\u4e14\u53c8\u662f\u7528 Scala \u958b\u767c\u7684\uff0c\u5be6\u5728\u6c92\u6709\u7406\u7531\u4e0d\u8a66\u8a66\u770b\u963f\u3002 XD</p>\n<p>\u82e5\u4f60\u9023\u5230\u5b98\u7db2\u770b\u6703\u767c\u73fe\u4ed6\u5206\u6210\u5f88\u591a\u6a21\u7d44\uff0c\u8001\u5be6\u8aaa\u6211\u4e5f\u6c92\u6709\u8a73\u7d30\u7814\u7a76\u6bcf\u500b\u6a21\u7d44\u7684\u529f\u80fd\u3002\n\u56e0\u70ba <a class=\"reference external\" href=\"http://spray.cc/documentation/spray-can/\">spray-can</a> \u7684\u7bc4\u4f8b\u770b\u8d77\u4f86\u6700\u7c21\u55ae\u4e26\u4e14\u4e5f\u7b26\u5408\u6211\u7684\u9700\u6c42\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u7528\u4ed6\u4e86\u3002</p>\n<p>\u60f3\u77ad\u89e3\u66f4\u8a73\u7d30\u5167\u5bb9\u7684\u53ef\u4ee5\u53c3\u8003 <a class=\"reference external\" href=\"https://github.com/spray/spray/tree/release-1.0-M2/examples/spray-can/simple-http-server/\">spray-can \u7bc4\u4f8b\u6587\u4ef6</a> \u8207 <a class=\"reference external\" href=\"http://blog.cloudfoundry.com/2012/05/11/running-standalone-web-applications-on-cloud-foundry/\">Running Standalone Web Applications on Cloud Foundry</a></p>\n<!-- TEASER_END -->\n<div class=\"section\" id=\"id1\">\n<h2>\u74b0\u5883\u6e96\u5099</h2>\n<p><a class=\"reference external\" href=\"https://github.com/spray/spray/tree/release-1.0-M2/examples/spray-can/\">spray-can \u7684\u7bc4\u4f8b</a> \u5df2\u7d93\u6709\u5efa\u7acb\u597d\u4e00\u500b\u7c21\u55ae\u7684 HttpServer \u4e86\uff0c\n\u6240\u4ee5\u6211\u5011\u5148\u5c07 Spray \u5f9e Github \u4e0a Clone \u4e0b\u4f86\u3002</p>\n<pre class=\"code bash literal-block\">\ngit clone git://github.com/spray/spray.git\n</pre>\n<p>\u7136\u5f8c\u8907\u88fd\u51fa spray/examples/spray-can/simple-http-server\u3002\n\u63a5\u8457\u5728 simple-http-server \u5e95\u4e0b\uff0c\u5efa\u7acb build.sbt \u8b93 SBT \u53bb include \u6240\u9700\u8981\u7684 Library\u3002</p>\n<p>\u9806\u4fbf\u8a2d\u5b9a <a class=\"reference external\" href=\"https://github.com/twitter/sbt-package-dist\">package-dist</a>  \u9019\u500b sbt plugin \u6240\u9700\u8981\u7684\u8cc7\u6599\u3002\npackage-dist \u53ef\u4ee5\u5354\u52a9\u6211\u5011\u5c07 Project \u6240\u9700\u8981\u7684 Library \u8207\u7a0b\u5f0f\u672c\u8eab\u5168\u90e8\u6253\u5305\u6210\u4e00\u500b zip \u6a94\u3002\n\u4f46\u662f\u9019\u500b plugin \u53ea\u80fd\u4f7f\u7528\u5728 sbt 0.11.x\uff0c\u76ee\u524d\u6211\u9084\u6c92\u6709\u770b\u5230\u53ef\u4ee5\u5728 0.12.x \u7684\u7248\u672c\u3002\n\u5982\u679c\u4f60\u4e0d\u60f3\u7528\u7684\u8a71\u53ef\u4ee5\u62ff\u6389 Start \u5230 End \u4e2d\u9593\u7684\u5167\u5bb9\u3002</p>\n<p>\u800c\u6700\u4e0b\u9762\u7684</p>\n<blockquote>\nEclipseKeys.createSrc := EclipseCreateSrc.Default + EclipsCreateSrc.Resource</blockquote>\n<p>\u5247\u662f\u91dd\u5c0d sbteclipse \u505a\u7684\u8a2d\u5b9a\uff0c\u8b93 plugin \u5728\u7522\u751f eclipse project \u7684\u6642\u5019\u53ef\u4ee5\u5c07 src/main/resources \u4e5f\u52a0\u5165 source folder\u3002</p>\n<pre class=\"code scala literal-block\">\n<span class=\"c1\">//Start - For package-dist\n</span><span class=\"k\">import</span> <span class=\"nn\">com.twitter.sbt._</span>\n\n<span class=\"n\">seq</span><span class=\"o\">(</span><span class=\"nc\">PackageDist</span><span class=\"o\">.</span><span class=\"n\">newSettings</span><span class=\"k\">:</span> <span class=\"k\">_</span><span class=\"kt\">*</span><span class=\"o\">)</span>\n\n<span class=\"n\">seq</span><span class=\"o\">(</span><span class=\"nc\">GitProject</span><span class=\"o\">.</span><span class=\"n\">gitSettings</span><span class=\"k\">:</span> <span class=\"k\">_</span><span class=\"kt\">*</span><span class=\"o\">)</span>\n\n<span class=\"n\">packageDistZipName</span> <span class=\"o\">:=</span> <span class=\"s\">\"DictionaryServer.zip\"</span>\n<span class=\"c1\">//End - For package-dist\n</span>\n<span class=\"n\">organization</span> <span class=\"o\">:=</span> <span class=\"s\">\"cc.spray\"</span>\n\n<span class=\"n\">name</span> <span class=\"o\">:=</span> <span class=\"s\">\"DictionaryServer\"</span>\n\n<span class=\"n\">mainClass</span> <span class=\"n\">in</span> <span class=\"o\">(</span><span class=\"nc\">Compile</span><span class=\"o\">,</span> <span class=\"n\">packageBin</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"nc\">Some</span><span class=\"o\">(</span><span class=\"s\">\"cc.spray.example.Main\"</span><span class=\"o\">)</span>\n\n<span class=\"n\">version</span> <span class=\"o\">:=</span> <span class=\"s\">\"0.1.0-SNAPSHOT\"</span>\n\n<span class=\"n\">scalaVersion</span> <span class=\"o\">:=</span> <span class=\"s\">\"2.9.2\"</span>\n\n<span class=\"n\">resolvers</span> <span class=\"o\">++=</span> <span class=\"nc\">Seq</span><span class=\"o\">(</span>\n<span class=\"s\">\"Typesafe repo\"</span> <span class=\"n\">at</span> <span class=\"s\">\"http://repo.typesafe.com/typesafe/releases/\"</span><span class=\"o\">,</span>\n<span class=\"s\">\"spray repo\"</span> <span class=\"n\">at</span> <span class=\"s\">\"http://repo.spray.cc/\"</span>\n<span class=\"o\">)</span>\n\n<span class=\"n\">libraryDependencies</span> <span class=\"o\">++=</span> <span class=\"nc\">Seq</span><span class=\"o\">(</span>\n    <span class=\"s\">\"com.typesafe.akka\"</span> <span class=\"o\">%</span> <span class=\"s\">\"akka-actor\"</span> <span class=\"o\">%</span> <span class=\"s\">\"2.0.3\"</span><span class=\"o\">,</span>\n    <span class=\"s\">\"cc.spray\"</span> <span class=\"o\">%</span> <span class=\"s\">\"spray-server\"</span> <span class=\"o\">%</span> <span class=\"s\">\"1.0-M2\"</span><span class=\"o\">,</span>\n    <span class=\"s\">\"cc.spray\"</span> <span class=\"o\">%</span> <span class=\"s\">\"spray-can\"</span> <span class=\"o\">%</span> <span class=\"s\">\"1.0-M2\"</span><span class=\"o\">,</span>\n    <span class=\"s\">\"org.slf4j\"</span> <span class=\"o\">%</span> <span class=\"s\">\"slf4j-api\"</span> <span class=\"o\">%</span> <span class=\"s\">\"1.6.6\"</span><span class=\"o\">,</span>\n    <span class=\"s\">\"ch.qos.logback\"</span> <span class=\"o\">%</span> <span class=\"s\">\"logback-classic\"</span> <span class=\"o\">%</span> <span class=\"s\">\"1.0.7\"</span>\n<span class=\"o\">)</span>\n\n<span class=\"c1\">//sbteclipse setting\n</span><span class=\"nc\">EclipseKeys</span><span class=\"o\">.</span><span class=\"n\">createSrc</span> <span class=\"o\">:=</span> <span class=\"nc\">EclipseCreateSrc</span><span class=\"o\">.</span><span class=\"nc\">Default</span> <span class=\"o\">+</span> <span class=\"nc\">EclipseCreateSrc</span><span class=\"o\">.</span><span class=\"nc\">Resource</span>\n</pre>\n<p>\u9019\u908a\u6ce8\u610f\u4e00\u4e0b Spray \u7684\u7248\u672c\u554f\u984c\uff0c\u73fe\u5728\u6700\u65b0\u7684 Example \u7a0b\u5f0f\u78bc\u662f\u91dd\u5c0d\u6700\u65b0\u7248\u672c\u7684 spray\uff0c\u4f46\u4ed6\u5011\u9084\u6c92\u6709\u6b63\u5f0f release\uff0c\n\u4e26\u4e14\u4ed6\u5011\u9084\u63db\u4e86 package name \u7b49\uff0c\u6240\u4ee5\u6211\u90fd\u662f\u4f7f\u7528 1.0-M2 \u7684\u7248\u672c\uff0c\u7576\u7136 Library \u4e5f\u662f\u4f7f\u7528 1.0-M2\u3002</p>\n<p>\u5230\u9019\u908a\uff0c\u6211\u5011\u7684\u74b0\u5883\u5c31\u6e96\u5099\u7684\u5dee\u4e0d\u591a\u4e86\u3002\u63a5\u4e0b\u4f86\uff0c\u53ea\u8981\u57f7\u884c\u7bc4\u4f8b\u7a0b\u5f0f\u78bc\u5c31\u53ef\u4ee5\u6709\u4e00\u500b\u53ef\u4ee5\u63d0\u4f9b Web Service \u7684 Http Server \u4e86\u3002</p>\n</div>\n<div class=\"section\" id=\"start-http-server\">\n<h2>Start Http Server</h2>\n<p>\u5982\u679c\u4f60\u5c0d\u65bc Akka \u7684\u7528\u6cd5\u6709\u4e00\u9ede\u6982\u5ff5\u7684\u8a71\uff0c\u90a3\u9ebc Spray \u5c0d\u4f60\u4f86\u8aaa\u61c9\u8a72\u662f\u975e\u5e38\u597d\u4e0a\u624b\u7684\u3002</p>\n<p>Main.scala \u555f\u52d5\u4e00\u500b IoWorker Actor \u8ca0\u8cac low-level \u7684 network I/O\uff0c\n\u63a5\u4e0b\u4f86\u5c07 IoWorker Actor \u4ee5\u53ca Service Actor \u50b3\u5165 HttpServer Actor\u4e26\u555f\u52d5 Http Server\u3002\n\u4e4b\u5f8c\u900f\u904e\u767c\u9001\u4e00\u500b HttpServer.Bind \u7684 Message \u7d66 Server \u8a2d\u5b9a IP \u8207 Port\u3002\n\u9019\u6a23\u5c31\u5b8c\u6210\u4e86 Server \u7684\u555f\u52d5\u8207\u8a2d\u5b9a\u4e86\u3002</p>\n<pre class=\"code scala literal-block\">\n<span class=\"c1\">// we need an ActorSystem to host our application in\n</span><span class=\"k\">val</span> <span class=\"n\">system</span> <span class=\"k\">=</span> <span class=\"nc\">ActorSystem</span><span class=\"o\">(</span><span class=\"s\">\"SimpleHttpServer\"</span><span class=\"o\">)</span>\n\n<span class=\"c1\">// the handler actor replies to incoming HttpRequests\n</span><span class=\"k\">val</span> <span class=\"n\">handler</span> <span class=\"k\">=</span> <span class=\"n\">system</span><span class=\"o\">.</span><span class=\"n\">actorOf</span><span class=\"o\">(</span><span class=\"nc\">Props</span><span class=\"o\">[</span><span class=\"kt\">TestService</span><span class=\"o\">])</span>\n\n<span class=\"c1\">// every spray-can HttpServer (and HttpClient) needs an IoWorker for low-level network IO\n// (but several servers and/or clients can share one)\n</span><span class=\"k\">val</span> <span class=\"n\">ioWorker</span> <span class=\"k\">=</span> <span class=\"k\">new</span> <span class=\"nc\">IoWorker</span><span class=\"o\">(</span><span class=\"n\">system</span><span class=\"o\">).</span><span class=\"n\">start</span><span class=\"o\">()</span>\n\n<span class=\"c1\">// create and start the spray-can HttpServer, telling it that we want requests to be\n// handled by our singleton handler\n</span><span class=\"k\">val</span> <span class=\"n\">server</span> <span class=\"k\">=</span> <span class=\"n\">system</span><span class=\"o\">.</span><span class=\"n\">actorOf</span><span class=\"o\">(</span>\n<span class=\"n\">props</span> <span class=\"k\">=</span> <span class=\"nc\">Props</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"nc\">HttpServer</span><span class=\"o\">(</span><span class=\"n\">ioWorker</span><span class=\"o\">,</span> <span class=\"nc\">MessageHandlerDispatch</span><span class=\"o\">.</span><span class=\"nc\">SingletonHandler</span><span class=\"o\">(</span><span class=\"n\">handler</span><span class=\"o\">))),</span>\n<span class=\"n\">name</span> <span class=\"k\">=</span> <span class=\"s\">\"http-server\"</span>\n<span class=\"o\">)</span>\n\n<span class=\"c1\">// a running HttpServer can be bound, unbound and rebound\n// initially to need to tell it where to bind to\n</span><span class=\"n\">server</span> <span class=\"o\">!</span> <span class=\"nc\">HttpServer</span><span class=\"o\">.</span><span class=\"nc\">Bind</span><span class=\"o\">(</span><span class=\"s\">\"localhost\"</span><span class=\"o\">,</span> <span class=\"mi\">8080</span><span class=\"o\">)</span>\n\n<span class=\"c1\">// finally we drop the main thread but hook the shutdown of\n// our IoWorker into the shutdown of the applications ActorSystem\n</span><span class=\"n\">system</span><span class=\"o\">.</span><span class=\"n\">registerOnTermination</span> <span class=\"o\">{</span>\n<span class=\"n\">ioWorker</span><span class=\"o\">.</span><span class=\"n\">stop</span><span class=\"o\">()</span>\n<span class=\"o\">}</span>\n</pre>\n</div>\n<div class=\"section\" id=\"service\">\n<h2>\u63d0\u4f9b Service</h2>\n<div class=\"section\" id=\"http-request\">\n<h3>\u8655\u7406 Http Request</h3>\n<p>\u63d0\u4f9b Service \u7684 Actor \u6703\u63a5\u6536\u5230 HttpRequest \u7684 Message\uff0cHttpRequest \u7684\u5167\u5bb9\u5982\u4e0b\u3002</p>\n<pre class=\"code scala literal-block\">\n<span class=\"k\">case</span> <span class=\"k\">class</span> <span class=\"nc\">HttpRequest</span><span class=\"o\">(</span>\n            <span class=\"n\">method</span>   <span class=\"k\">:</span> <span class=\"kt\">HttpMethod</span> <span class=\"o\">=</span> <span class=\"nc\">HttpMethods</span><span class=\"o\">.</span><span class=\"nc\">GET</span><span class=\"o\">,</span>\n            <span class=\"n\">uri</span>      <span class=\"k\">:</span> <span class=\"kt\">String</span> <span class=\"o\">=</span> <span class=\"s\">\"/\"</span><span class=\"o\">,</span>\n            <span class=\"n\">headers</span>  <span class=\"k\">:</span> <span class=\"kt\">List</span><span class=\"o\">[</span><span class=\"kt\">HttpHeader</span><span class=\"o\">]</span> <span class=\"k\">=</span> <span class=\"nc\">Nil</span><span class=\"o\">,</span>\n            <span class=\"n\">content</span>  <span class=\"k\">:</span> <span class=\"kt\">Option</span><span class=\"o\">[</span><span class=\"kt\">HttpContent</span><span class=\"o\">]</span> <span class=\"k\">=</span> <span class=\"nc\">None</span><span class=\"o\">,</span>\n            <span class=\"n\">protocol</span> <span class=\"k\">:</span> <span class=\"kt\">HttpProtocol</span> <span class=\"o\">=</span> <span class=\"n\">`HTTP/1.1`</span><span class=\"o\">)</span>\n</pre>\n<p>\u7136\u5f8c\u5c31\u53ef\u4ee5\u5229\u7528 match \u4f86\u8655\u7406\u5404\u7a2e\u4e0d\u540c\u7684 HttpRequest\uff0c\n\u4f8b\u5982\u6709\u9023\u7dda\u5230 <a class=\"reference external\" href=\"http://localhost:8080/\">http://localhost:8080/</a> \u7684 GET \u8acb\u6c42\uff0c\n\u5c31\u6703\u5c0d\u61c9\u5230\u7b2c\u4e00\u500b HttpRequest \"/\"\u3002</p>\n<pre class=\"code scala literal-block\">\n<span class=\"k\">protected</span> <span class=\"k\">def</span> <span class=\"n\">receive</span> <span class=\"k\">=</span> <span class=\"o\">{</span>\n\n    <span class=\"k\">case</span> <span class=\"nc\">HttpRequest</span><span class=\"o\">(</span><span class=\"nc\">GET</span><span class=\"o\">,</span> <span class=\"s\">\"/\"</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">)</span> <span class=\"k\">=&gt;</span>\n        <span class=\"n\">sender</span> <span class=\"o\">!</span> <span class=\"n\">index</span>\n\n    <span class=\"k\">case</span> <span class=\"nc\">HttpRequest</span><span class=\"o\">(</span><span class=\"nc\">GET</span><span class=\"o\">,</span> <span class=\"s\">\"/ping\"</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">)</span> <span class=\"k\">=&gt;</span>\n        <span class=\"n\">sender</span> <span class=\"o\">!</span> <span class=\"n\">response</span><span class=\"o\">(</span><span class=\"s\">\"PONG!\"</span><span class=\"o\">)</span>\n\n    <span class=\"k\">case</span> <span class=\"nc\">HttpRequest</span><span class=\"o\">(</span><span class=\"nc\">GET</span><span class=\"o\">,</span> <span class=\"s\">\"/stats\"</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">,</span> <span class=\"k\">_</span><span class=\"o\">)</span> <span class=\"k\">=&gt;</span>\n        <span class=\"k\">val</span> <span class=\"n\">client</span> <span class=\"k\">=</span> <span class=\"n\">sender</span>\n        <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">actorFor</span><span class=\"o\">(</span><span class=\"s\">\"../http-server\"</span><span class=\"o\">).</span><span class=\"n\">ask</span><span class=\"o\">(</span><span class=\"nc\">HttpServer</span><span class=\"o\">.</span><span class=\"nc\">GetStats</span><span class=\"o\">)(</span><span class=\"mf\">1.</span><span class=\"n\">second</span><span class=\"o\">).</span><span class=\"n\">onSuccess</span> <span class=\"o\">{</span>\n\n    <span class=\"k\">case</span> <span class=\"n\">x</span><span class=\"k\">:</span> <span class=\"kt\">HttpServer.Stats</span> <span class=\"o\">=&gt;</span> <span class=\"n\">client</span> <span class=\"o\">!</span> <span class=\"n\">statsPresentation</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">)</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">.</span>\n<span class=\"o\">.</span>\n<span class=\"o\">.</span>\n<span class=\"o\">}</span>\n</pre>\n</div>\n<div class=\"section\" id=\"http-response\">\n<h3>\u5efa\u7acb Http Response</h3>\n<p>Response \u7684\u5167\u5bb9\u4e5f\u975e\u5e38\u597d\u8a2d\u5b9a\uff0c\u4ee5\u525b\u525b\u9001\u56de sender \u7684 index \u70ba\u4f8b\u5b50\uff0c\nSpray \u4f7f\u7528\u4e00\u500b HttpResonse \u7684 case class \u4f86\u4ee3\u8868 Response \u7684\u5167\u5bb9\u3002\n\u53ea\u8981\u8a2d\u5b9a\u597d headers\u3001body \u8207 status \u5c31\u53ef\u4ee5\u50b3\u9001\u56de\u53bb Sender \u4e86\u3002</p>\n<pre class=\"code scala literal-block\">\n<span class=\"k\">lazy</span> <span class=\"k\">val</span> <span class=\"n\">index</span> <span class=\"k\">=</span> <span class=\"nc\">HttpResponse</span><span class=\"o\">(</span>\n<span class=\"n\">headers</span> <span class=\"k\">=</span> <span class=\"nc\">List</span><span class=\"o\">(</span><span class=\"nc\">HttpHeader</span><span class=\"o\">(</span><span class=\"s\">\"Content-Type\"</span><span class=\"o\">,</span> <span class=\"s\">\"text/html\"</span><span class=\"o\">)),</span>\n<span class=\"n\">body</span> <span class=\"k\">=</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">html</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">body</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">h1</span><span class=\"o\">&gt;</span><span class=\"nc\">Say</span> <span class=\"n\">hello</span> <span class=\"n\">to</span> <span class=\"o\">&lt;</span><span class=\"n\">i</span><span class=\"o\">&gt;</span><span class=\"n\">spray</span><span class=\"o\">-</span><span class=\"n\">can</span><span class=\"o\">&lt;/</span><span class=\"n\">i</span><span class=\"o\">&gt;!&lt;/</span><span class=\"n\">h1</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">p</span><span class=\"o\">&gt;</span><span class=\"nc\">Defined</span> <span class=\"n\">resources</span><span class=\"o\">:&lt;/</span><span class=\"n\">p</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">ul</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"/ping\"</span><span class=\"o\">&gt;/</span><span class=\"n\">ping</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"/search\"</span><span class=\"o\">&gt;/</span><span class=\"n\">search</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"/stats\"</span><span class=\"o\">&gt;/</span><span class=\"n\">stats</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"/crash\"</span><span class=\"o\">&gt;/</span><span class=\"n\">crash</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"/timeout\"</span><span class=\"o\">&gt;/</span><span class=\"n\">timeout</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"/timeout/timeout\"</span><span class=\"o\">&gt;/</span><span class=\"n\">timeout</span><span class=\"o\">/</span><span class=\"n\">timeout</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n        <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">a</span> <span class=\"n\">href</span><span class=\"o\">=</span><span class=\"s\">\"/stop\"</span><span class=\"o\">&gt;/</span><span class=\"n\">stop</span><span class=\"o\">&lt;/</span><span class=\"n\">a</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;/</span><span class=\"n\">ul</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;/</span><span class=\"n\">body</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"n\">html</span><span class=\"o\">&gt;.</span><span class=\"n\">toString</span><span class=\"o\">.</span><span class=\"n\">getBytes</span><span class=\"o\">(</span><span class=\"s\">\"ISO-8859-1\"</span><span class=\"o\">),</span>\n<span class=\"n\">status</span> <span class=\"k\">=</span> <span class=\"mi\">200</span><span class=\"o\">)</span>\n</pre>\n</div>\n</div></body></html>", "ARCHIVE_FILENAME": "archive.html", "THEME_REVEAL_CONGIF_SUBTHEME": "sky", "message_Read more": "Read more", "SITE_URL": "http://swind.code-life.info", "LISTINGS_FOLDER": "listings", "INDEXES_PAGES": "", "next": "/posts/epubconverter-0_0_2.json", "message_Next post": "Next post", "BLOG_DESCRIPTION": "I am Swind.", "EXTRA_HEAD_DATA": "", "DEFAULT_LANG": "en", "disqus_html": "<div id=\"disqus_thread\"></div> <script type=\"text/javascript\">var disqus_shortname=\"swindgithub\";var disqus_url=\"http://swind.code-life.info/posts/build-restful-api-server-by-spray.html\";(function(){var a=document.createElement(\"script\");a.type=\"text/javascript\";a.async=true;a.src=\"http://\"+disqus_shortname+\".disqus.com/embed.js\";(document.getElementsByTagName(\"head\")[0]||document.getElementsByTagName(\"body\")[0]).appendChild(a)})();        </script><noscript>Please enable JavaScript to view the <a href=\"http://disqus.com/?ref_noscript\">comments powered by DISQUS.</a></noscript><a href=\"http://disqus.com\"class=\"dsq-brlink\">comments powered by <span class=\"logo-disqus\">DISQUS</span></a>", "RSS_PATH": "", "title": "\u7528 Spray \u5efa\u7acb\u4e00\u500b\u7c21\u55ae\u7684 RESTful API Server", "SEARCH_FORM": "", "message_Tags": "Tags", "INDEX_PATH": "", "BLOG_AUTHOR": "Swind", "message_Older posts": "Older posts", "OUTPUT_FOLDER": "output", "message_Original site": "Original site", "ANALYTICS": "UA-15910682-2", "BLOG_EMAIL": "", "message_Posts for year %s": "Posts for year %s", "message_old posts page %d": "old posts page %d", "BLOG_TITLE": "Corleonis", "message_Posted": "Posted", "GALLERY_PATH": "galleries", "CODE_COLOR_SCHEME": "default", "message_Read in English": "Read in English", "CACHE_FOLDER": "cache", "tags": [{"link": "/categories/scala.html", "name": "Scala"}, {"link": "/categories/akka.html", "name": "Akka"}], "tags?": true, "__file__": "conf.pyc", "translations": [], "CONTENT_FOOTER": "Contents &copy; 2013 <a href=\"mailto:\">Swind</a> - Powered by <a href=\"http://nikola.ralsina.com.ar\">Nikola</a>", "BASE_URL": "http://swind.code-life.info", "THEME": "mySite", "message_Also available in": "Also available in", "BLOG_URL": "http://swind.code-life.info", "date": "2012-11-06 20:11", "__name__": "conf", "message_Posts about %s": "Posts about %s", "message_Posts for {month} {year}": "Posts for {month} {year}", "message_More posts about": "More posts about", "ARCHIVE_PATH": "", "DATE_FORMAT": "%Y-%m-%d %H:%M", "TAG_PATH": "categories", "prev": "/posts/akka-2_0-note-6.json", "message_Newer posts": "Newer posts", "message_LANGUAGE": "English", "MATHJAX_CONFIG": "", "message_Archive": "Archive", "message_Source": "Source", "DISQUS_FORUM": "swindgithub", "INDEXES_TITLE": ""}